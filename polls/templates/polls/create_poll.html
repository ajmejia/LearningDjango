{% extends "base_template.html" %}

{% block add_styles %}
	{% load staticfiles %}
	<link rel="stylesheet" type="text/css" href="{% static 'polls/form_style.css' %}">
{% endblock %}

{% block flash_messages_block %}
	{% with flash_messages=messages %}
		{% for message in flash_messages %}
			<div class="{{ message.tags }}">{{ message }}</div>
		{% endfor %}
	{% endwith %}
{% endblock %}

{% block page_title %}Create your poll{% endblock %}

{% block page_body %}
	{% with flash_messages=form.non_field_errors %}
		{% for message in flash_messages %}
			<div class="error">{{ message }}</div>
		{% endfor %}
	{% endwith %}
	<form action="{% url 'polls:create-poll' %}" method="post">
		{% csrf_token %}
		<div class="field-wrapper">
			<label for="{{ question_form.id_for_label }}">{{ question_form.label }} </label>
			<p>{{ question_form }} <span class="form-field-error">{{ question_form.errors }}</span></p>
		</div>
		{{ choice_forms.management_form }}
		{% for choice_form in choice_forms %}
		<div class="field-wrapper">
			<p>{{ choice_form }} <span class="form-field-error">{{ choice_form.errors }}</span></p>
		</div>
		{% endfor %}
		<input type="submit" value="Create"/>
	</form>
{% endblock %}
